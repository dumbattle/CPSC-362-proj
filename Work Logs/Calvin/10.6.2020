minimal addition to Justin's code

added button functionality
    done through togglestates, instead of disabling and enabling components
